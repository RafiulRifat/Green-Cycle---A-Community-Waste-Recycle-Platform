@model Green_Cycle.Models.ViewModels.Wallet.WalletVm
@{
    ViewBag.Title = "My Wallet";
}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" />

<div class="container">
    <h2 class="fw-bold">My Wallet</h2>
    <p class="text-muted">Track your recycling points and transactions</p>

    <div class="card shadow-sm mb-4">
        <div class="card-body d-flex justify-content-between align-items-center">
            <div class="d-flex align-items-center gap-3">
                <div class="bg-light border rounded d-flex align-items-center justify-content-center" style="width:64px;height:64px;">
                    <i class="bi bi-wallet2 fs-3 text-secondary"></i>
                </div>
                <div>
                    <div class="text-muted small">Current Balance</div>
                    <div class="fs-3 fw-bold">@Model.Balance pts</div>
                    <div class="text-muted small">Points earned from pickups and machine deposits</div>
                </div>
            </div>
            <div class="d-flex gap-2">
                <a href="@Url.Action("Index","Rewards")" class="btn btn-dark">Redeem Rewards</a>
                <a href="@Url.Action("Index","Rewards")" class="btn btn-outline-secondary">View Rewards Catalog</a>
            </div>
        </div>
    </div>

    <!-- Tabs (static for stub) -->
    <ul class="nav nav-tabs mb-3">
        <li class="nav-item"><a class="nav-link active" href="#">All</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Earned</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Redeemed</a></li>
    </ul>

    @if (Model.Transactions == null || !Model.Transactions.Any())
    {
        <div class="text-center text-muted py-5">
            <div class="display-6">No transactions yet</div>
            <div>Earn points by completing pickups or depositing at machines.</div>
        </div>
    }
    else
    {
        <div class="list-group">
            @foreach (var t in Model.Transactions)
            {
                <div class="list-group-item d-flex justify-content-between align-items-center">
                    <div class="d-flex align-items-center gap-3">
                        <i class="bi @t.Icon fs-4 text-secondary"></i>
                        <div>@t.Title</div>
                    </div>
                    <div class="fw-bold">@t.PointsText</div>
                </div>
            }
        </div>
    }
</div>
